!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.true=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){window.StatelessJS={Rule:a("./statelessjs/rule.js"),Map:a("./statelessjs/map.js"),App:a("./statelessjs/app.js"),promiseEventListener:a("./statelessjs/promiseEventListener.js"),loopEventListener:a("./statelessjs/loopEventListener.js"),run:a("./statelessjs/run.js")}},{"./statelessjs/app.js":2,"./statelessjs/loopEventListener.js":3,"./statelessjs/map.js":4,"./statelessjs/promiseEventListener.js":5,"./statelessjs/rule.js":8,"./statelessjs/run.js":9}],2:[function(a,b){b.exports=function(a,b,c){"use strict";var d=function(){var a=this;return a instanceof d?(a._url_map=new b,void(a._view_functions={})):new d};return d.prototype={constructor:d,add_url_rule:function(a,b,d,e){if(void 0===d)this._url_map.add(new c(b,a,{build_only:!0,methods:e}));else if(void 0!==d){if(this._url_map.add(new c(b,a,{methods:e})),this._view_functions.hasOwnProperty(a))throw new Error("Already defined endpoint "+a);this._view_functions[a]=d}},url_for:function(a,b,c){return this._url_map.build(a,b,c)},dispatch:function(a,b,c){void 0===c&&(c="GET");var d=this._url_map.match(a,c);if(d===!1)throw new Error("404 not found "+c+" "+a);return this._view_functions[d.endpoint](d.options,b)}},d}(location,a("./map.js"),a("./rule.js"))},{"./map.js":4,"./rule.js":8}],3:[function(a,b){var c=a("rsvp");b.exports=function(a,b,d,e){"use strict";function f(){void 0!==j&&"function"==typeof j.cancel&&j.cancel()}function g(){void 0!==i&&a.removeEventListener(b,i,d),f()}function h(h,k){i=function(a){a.stopPropagation(),a.preventDefault(),f(),j=(new c.Queue).push(function(){return e(a)}).push(void 0,function(a){a instanceof c.CancellationError||(g(),k(a))})},a.addEventListener(b,i,d)}var i,j;return new c.Promise(h,g)}},{rsvp:"OMm+mN"}],4:[function(a,b){b.exports=function(){"use strict";var a=function(b){var c,d=this;if(!(d instanceof a))return new a;if(d._rule_list=[],void 0!==b)for(c=0;c<b.length;c+=1)d.add(b[c])};return a.prototype={constructor:a,add:function(a){this._rule_list.push(a)},match:function(a,b){var c,d;for(void 0===b&&(b="GET"),c=0;c<this._rule_list.length;c+=1)if(this._rule_list[c]._methods[b]===!0&&(d=this._rule_list[c].match(a),d!==!1))return{endpoint:this._rule_list[c]._endpoint,options:d};return!1},build:function(a,b,c){var d;for(void 0===b&&(b="GET"),d=0;d<this._rule_list.length;d+=1)if(this._rule_list[d]._methods[b]===!0&&this._rule_list[d]._endpoint===a)return this._rule_list[d].build(c);throw new Error("Not view matching to "+b+" "+a)}},a}()},{}],5:[function(a,b){var c=a("rsvp");b.exports=function(a,b,d){"use strict";function e(){a.removeEventListener(b,g,d)}function f(c){g=function(a){return e(),a.stopPropagation(),a.preventDefault(),c(a),!1},a.addEventListener(b,g,d)}var g;return new c.Promise(f,e)}},{rsvp:"OMm+mN"}],"OMm+mN":[function(a,b){b.exports=window.RSVP},{}],rsvp:[function(a,b){b.exports=a("OMm+mN")},{}],8:[function(a,b){var c=a("uritemplate");b.exports=function(){"use strict";var a=function(b,c,d){var e,f=this,g=["GET"];if(!(f instanceof a))return new a(b,c,d);if("string"!=typeof b)throw new TypeError("You must pass a uri template string as first argument");for(f._uri_template_text=b,f._endpoint=c,void 0!==d&&(f._build_only=d.build_only,void 0!==d.methods&&(g=d.methods)),f._methods={},e=0;e<g.length;e+=1)f._methods[g[e]]=!0};return a.prototype={constructor:a,compile:function(){this._uri_template=c.parse(this._uri_template_text)},build:function(a){return void 0===this._uri_template&&this.compile(),void 0===a&&(a={}),this._uri_template.expand(a)},match:function(a){return void 0===this._uri_template&&this.compile(),this._build_only?!1:this._uri_template.extract(a)}},a}()},{uritemplate:"RRVr+t"}],9:[function(a,b){var c=a("rsvp"),d=a("./promiseEventListener.js"),e=a("./loopEventListener.js");b.exports=function(){"use strict";function a(a){var b;throw b=a instanceof Error?a.toString():a instanceof XMLHttpRequest?a.toString()+" "+a.status+"  "+a.getAllResponseHeaders()+" "+a.statusText:JSON.stringify(a),console.warn(b),a}function b(b){var d=b.newURL.split("#")[1];return d=void 0===d?"":d.split("?")[0],(new c.Queue).push(function(){return i.dispatch("#"+d)}).push(void 0,function(b){return b instanceof c.CancellationError?void 0:a(b)})}function f(){return c.all([b({newURL:window.location.toString()}),e(window,"hashchange",!1,b)])}function g(){return c.Promise(function(a){h=function(b){if(m)throw new Error("One application is already started");return i=b,m=!0,a(),j}})}var h,i,j,k,l,m=!1;return l=d(document,"DOMContentLoaded",!1),k=g(),j=c.Queue().push(function(){return c.all([l,k])}).push(f).push(a,a),h}()},{"./loopEventListener.js":3,"./promiseEventListener.js":5,rsvp:"OMm+mN"}],uritemplate:[function(a,b){b.exports=a("RRVr+t")},{}],"RRVr+t":[function(a,b){b.exports=window.UriTemplate},{}]},{},[1])(1)});